MOV, $0, 0
TRIGGER_ONE_SIDE, WEIGHT_COPY, WEST_R
TRIGGER_ONE_SIDE, INPUT_FORWARD, WEST_B
TRIGGER_ONE_SIDE, OUTPUT, NORTH_R
SLEEP
WEIGHT_COPY:
    WAIT, $1, NET_RECV_WEST, R
    SEND, NET_SEND_EAST, $1, R
    SLEEP
INPUT_FORWARD:
    WAIT, $2, NET_RECV_WEST, B
    SEND, NET_SEND_EAST, $2, B
    MAC, $0, $1, $2
    SLEEP
OUTPUT:
    WAIT, $3, NET_RECV_NORTH, R
    ADDI, $0, $3, $0
    SEND, NET_SEND_SOUTH, $0, R
    MOV, $0, 0
    SLEEP


