TRIGGER_TWO_SIDE, BIAS_WEIGHT, NORTH_B, NORTH_R

START_BLOCK:
    TRIGGER_ONE_SIDE, COMPUTE, WEST_R
    TRIGGER_TWO_SIDE, SHIFT, EAST_R, SOUTH_R
    SLEEP

BIAS_WEIGHT:
    RECV_SEND, SOUTH_B, $2, NORTH_B
    RECV_SEND, SOUTH_R, $1, NORTH_R
    SLEEP
    JMP, START_BLOCK

COMPUTE:
    RECV_SEND, EAST_R, $0, WEST_R
    MAC, $2, $0, $1
    SLEEP

SHIFT:
    SEND, NET_SEND_SOUTH, $2
    SEND, NET_SEND_SOUTH, $1
    SEND, NET_SEND_EAST, $0
    SLEEP
    JMP, START_BLOCK
